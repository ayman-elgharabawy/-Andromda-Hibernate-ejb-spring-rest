// license-header java merge-point
/* Autogenerated on 03/19/2016 08:16:06+0200 by AndroMDA DO NOT EDIT!
 *
 * TEMPLATE:    cxf/WSClient.vsl in andromda-webservices-cartridge
 * MODEL CLASS: Data::com.vis.oubl::service::SearchService
 * STEREOTYPE:  WebService
*/
package com.vis.oubl.service.test;

import com.vis.oubl.service.SearchServiceSEI;
import com.vis.oubl.service.SearchServiceSEIClient;
import java.net.URL;
import javax.xml.namespace.QName;
import java.io.IOException;
import java.io.InputStream;
import javax.servlet.http.HttpServletResponse;
import javax.ws.rs.core.Response;
import org.apache.cxf.helpers.IOUtils;
import org.apache.cxf.jaxrs.client.WebClient;
import junit.framework.TestCase;
import junit.textui.TestRunner;

/**
 * Client test for the SearchService web service. Modified from CXF generated test client.
 * 
 */
public final class SearchService_WSClient extends TestCase
{
    private static final QName SERVICE_NAME = new QName("http://service.oubl.vis.com/", "SearchService");
    private static URL wsdlURL = null;

    /**
     * Public constructor for JUnit
     */
    public SearchService_WSClient()
    {
        // Documented empty constructor - avoid compiler warning
    }

    /**
     * @param name
     */
    public SearchService_WSClient(String name)
    {
        super(name);
    }

    /**
     * @see junit.framework.TestCase#setUp()
     */
    @Override
    protected void setUp() throws Exception
    {
        super.setUp();
        //if (args.length == 0)
        //{
            wsdlURL = SearchServiceSEIClient.WSDL_LOCATION;
        //}
        /*else
        {
            File wsdlFile = new File(args[0]);
            try
            {
                if (wsdlFile.exists())
                {
                    wsdlURL = wsdlFile.toURI().toURL();
                } else
                {
                    wsdlURL = new URL(args[0]);
                }
            }
            catch (MalformedURLException e)
            {
                e.printStackTrace();
            }
        } */
    }

    /**
     * @see junit.framework.TestCase#tearDown()
     */
    @Override
    protected void tearDown() throws Exception
    {
        super.tearDown();
    }

    /**
     * @param args
     * @throws Exception
     */
    public static void main(String args[]) throws Exception
    {
        TestRunner.run(SearchService_WSClient.class);

        /*

       //  String _createCustomer__return =           testCreateCustomer(port);

       //  String _customerSearch__return =           testCustomerSearch(port);

       //  String _customersQuery__return =           testCustomersQuery(port);

       //  String _deleteCustomer__return =           testDeleteCustomer(port);

       //  String _updateCustomer__return =           testUpdateCustomer(port);
       */
    }
    /**
     * Test SearchService Service createCustomer
     */
    public void testCreateCustomer()
    {
        com.vis.oubl.service.CreateCustomer createCustomerInput = com.vis.oubl.service.CreateCustomerImpl.createCustomerCreateInput();
        System.out.println("Invoking createCustomer on SearchService with"
            + " patient=" + createCustomerInput.getPatient()
        );
        Response response = null;
        InputStream is = null;
        int length = 0;
        String _createCustomer__return = "Failed to read output from result";
        String restURL = "http://localhost:9090/pag-webservice/services/searchservice/patient/";
        System.out.println("Creating REST Webclient for URL " + restURL);
        try
        {
            WebClient client = WebClient.create(restURL);
            javax.xml.bind.JAXBContext ctx = javax.xml.bind.JAXBContext.newInstance(com.vis.oubl.vo.My010CustomerVO.class);
            java.io.StringWriter writer = new java.io.StringWriter();
            ctx.createMarshaller().marshal(createCustomerInput.getPatient(), writer);
            System.out.println(writer.toString());
            response = client.path("").type("application/json").accept("application/json").post(writer.toString());
            is = (InputStream)response.getEntity();
            length = is.available();
            _createCustomer__return = IOUtils.readStringFromStream(is);
        }
        catch (IOException e)
        {
            e.printStackTrace();
        }
        catch (Exception ex)
        {
            try
            {
                if (is != null)
                {
                    is.close();
                }
            }
            catch (IOException ignore)
            {
                // Ignore close exception - already closed
            }
        }
        if (response != null)
        {
            if (response.getStatus()==HttpServletResponse.SC_OK && length>0)
            {
                System.out.println("SUCCESS createCustomer.result=" + response.getStatus() + " createCustomer.size=" + length);
            }
            else
            {
                System.out.println("FAILURE createCustomer.result=" + response.getStatus() + " createCustomer.size=" + length);
            }
        }
        else
        {
            System.out.println("FAILURE Received null response");
        }
        assertNotNull(response);
        assertTrue(length>0);
        System.out.println("createCustomer.result=" + _createCustomer__return);
        // return _createCustomer__return;
    }

    /**
     * Test SearchService Service customerSearch
     */
    public void testCustomerSearch()
    {
        com.vis.oubl.service.CustomerSearch customerSearchInput = com.vis.oubl.service.CustomerSearchImpl.customerSearchCreateInput();
        System.out.println("Invoking customerSearch on SearchService with"
            + " id=" + customerSearchInput.getId()
        );
        Response response = null;
        InputStream is = null;
        int length = 0;
        String _customerSearch__return = "Failed to read output from result";
        String restURL = "http://localhost:9090/pag-webservice/services/searchservice/patient/1/";
        System.out.println("Creating REST Webclient for URL " + restURL);
        try
        {
            WebClient client = WebClient.create(restURL);
            response = client.path("").type("application/json").accept("application/json").get();
            is = (InputStream)response.getEntity();
            length = is.available();
            _customerSearch__return = IOUtils.readStringFromStream(is);
        }
        catch (IOException e)
        {
            e.printStackTrace();
        }
        catch (Exception ex)
        {
            try
            {
                if (is != null)
                {
                    is.close();
                }
            }
            catch (IOException ignore)
            {
                // Ignore close exception - already closed
            }
        }
        if (response != null)
        {
            if (response.getStatus()==HttpServletResponse.SC_OK && length>0)
            {
                System.out.println("SUCCESS customerSearch.result=" + response.getStatus() + " customerSearch.size=" + length);
            }
            else
            {
                System.out.println("FAILURE customerSearch.result=" + response.getStatus() + " customerSearch.size=" + length);
            }
        }
        else
        {
            System.out.println("FAILURE Received null response");
        }
        assertNotNull(response);
        assertTrue(length>0);
        System.out.println("customerSearch.result=" + _customerSearch__return);
        // return _customerSearch__return;
    }

    /**
     * Test SearchService Service customersQuery
     */
    public void testCustomersQuery()
    {
        System.out.println("Invoking customersQuery on SearchService with"
        );
        Response response = null;
        InputStream is = null;
        int length = 0;
        String _customersQuery__return = "Failed to read output from result";
        String restURL = "http://localhost:9090/pag-webservice/services/searchservice/patient/";
        System.out.println("Creating REST Webclient for URL " + restURL);
        try
        {
            WebClient client = WebClient.create(restURL);
            response = client.path("").get();
            is = (InputStream)response.getEntity();
            length = is.available();
            _customersQuery__return = IOUtils.readStringFromStream(is);
        }
        catch (IOException e)
        {
            e.printStackTrace();
        }
        catch (Exception ex)
        {
            try
            {
                if (is != null)
                {
                    is.close();
                }
            }
            catch (IOException ignore)
            {
                // Ignore close exception - already closed
            }
        }
        if (response != null)
        {
            if (response.getStatus()==HttpServletResponse.SC_OK && length>0)
            {
                System.out.println("SUCCESS customersQuery.result=" + response.getStatus() + " customersQuery.size=" + length);
            }
            else
            {
                System.out.println("FAILURE customersQuery.result=" + response.getStatus() + " customersQuery.size=" + length);
            }
        }
        else
        {
            System.out.println("FAILURE Received null response");
        }
        assertNotNull(response);
        assertTrue(length>0);
        System.out.println("customersQuery.result=" + _customersQuery__return);
        // return _customersQuery__return;
    }

    /**
     * Test SearchService Service deleteCustomer
     */
    public void testDeleteCustomer()
    {
        com.vis.oubl.service.DeleteCustomer deleteCustomerInput = com.vis.oubl.service.DeleteCustomerImpl.deleteCustomerCreateInput();
        System.out.println("Invoking deleteCustomer on SearchService with"
            + " id=" + deleteCustomerInput.getId()
        );
        Response response = null;
        InputStream is = null;
        int length = 0;
        String _deleteCustomer__return = "Failed to read output from result";
        String restURL = "http://localhost:9090/pag-webservice/services/searchservice/patient/1/";
        System.out.println("Creating REST Webclient for URL " + restURL);
        try
        {
            WebClient client = WebClient.create(restURL);
            response = client.path("").type("application/json").accept("application/json").get();
            is = (InputStream)response.getEntity();
            length = is.available();
            _deleteCustomer__return = IOUtils.readStringFromStream(is);
        }
        catch (IOException e)
        {
            e.printStackTrace();
        }
        catch (Exception ex)
        {
            try
            {
                if (is != null)
                {
                    is.close();
                }
            }
            catch (IOException ignore)
            {
                // Ignore close exception - already closed
            }
        }
        if (response != null)
        {
            if (response.getStatus()==HttpServletResponse.SC_OK && length>0)
            {
                System.out.println("SUCCESS deleteCustomer.result=" + response.getStatus() + " deleteCustomer.size=" + length);
            }
            else
            {
                System.out.println("FAILURE deleteCustomer.result=" + response.getStatus() + " deleteCustomer.size=" + length);
            }
        }
        else
        {
            System.out.println("FAILURE Received null response");
        }
        assertNotNull(response);
        assertTrue(length>0);
        System.out.println("deleteCustomer.result=" + _deleteCustomer__return);
        // return _deleteCustomer__return;
    }

    /**
     * Test SearchService Service updateCustomer
     */
    public void testUpdateCustomer()
    {
        com.vis.oubl.service.UpdateCustomer updateCustomerInput = com.vis.oubl.service.UpdateCustomerImpl.updateCustomerCreateInput();
        System.out.println("Invoking updateCustomer on SearchService with"
            + " patient=" + updateCustomerInput.getPatient()
        );
        Response response = null;
        InputStream is = null;
        int length = 0;
        String _updateCustomer__return = "Failed to read output from result";
        // TODO Fix request URL to contain actual data instead of {} http://localhost:9090/pag-webservice/services/searchservice/patient/{id}/
        String restURL = "http://localhost:9090/pag-webservice/services/searchservice/patient/{id}/";
        System.out.println("Creating REST Webclient for URL " + restURL);
        try
        {
            WebClient client = WebClient.create(restURL);
            javax.xml.bind.JAXBContext ctx = javax.xml.bind.JAXBContext.newInstance(com.vis.oubl.vo.My010CustomerVO.class);
            java.io.StringWriter writer = new java.io.StringWriter();
            ctx.createMarshaller().marshal(updateCustomerInput.getPatient(), writer);
            System.out.println(writer.toString());
            response = client.path("").type("application/json").accept("application/json").post(writer.toString());
            is = (InputStream)response.getEntity();
            length = is.available();
            _updateCustomer__return = IOUtils.readStringFromStream(is);
        }
        catch (IOException e)
        {
            e.printStackTrace();
        }
        catch (Exception ex)
        {
            try
            {
                if (is != null)
                {
                    is.close();
                }
            }
            catch (IOException ignore)
            {
                // Ignore close exception - already closed
            }
        }
        if (response != null)
        {
            if (response.getStatus()==HttpServletResponse.SC_OK && length>0)
            {
                System.out.println("SUCCESS updateCustomer.result=" + response.getStatus() + " updateCustomer.size=" + length);
            }
            else
            {
                System.out.println("FAILURE updateCustomer.result=" + response.getStatus() + " updateCustomer.size=" + length);
            }
        }
        else
        {
            System.out.println("FAILURE Received null response");
        }
        assertNotNull(response);
        assertTrue(length>0);
        System.out.println("updateCustomer.result=" + _updateCustomer__return);
        // return _updateCustomer__return;
    }

    /**
     * JUnit test data class, used by DataDrivenTestSuite in suite()
     */
    public static class SearchServiceTestData
    {
        // TODO: Add test data fields here (populated by SearchService.xls spreadsheet
        // TODO: Recursively list every primitive parameter in entire operation parameter hierarchy
        @SuppressWarnings("unused")
        private com.vis.oubl.vo.My010CustomerVO createCustomerPatient;
        /**
         * Data value for patient createCustomer on used by DataDrivenTestSuite in suite().
         * createCustomerpatient must be the column name of the parameter in the spreadsheet
         * @param value My010CustomerVO to be populated manually
         */
        public void setCreateCustomerPatient(com.vis.oubl.vo.My010CustomerVO value)
        {
            this.createCustomerPatient = value;
        }
        @SuppressWarnings("unused")
        private java.lang.Integer customerSearchId;
        /**
         * Data value for id customerSearch on used by DataDrivenTestSuite in suite().
         * customerSearchid must be the column name of the parameter in the spreadsheet
         * @param value Integer to be populated manually
         */
        public void setCustomerSearchId(java.lang.Integer value)
        {
            this.customerSearchId = value;
        }
        @SuppressWarnings("unused")
        private java.lang.Long deleteCustomerId;
        /**
         * Data value for id deleteCustomer on used by DataDrivenTestSuite in suite().
         * deleteCustomerid must be the column name of the parameter in the spreadsheet
         * @param value Long to be populated manually
         */
        public void setDeleteCustomerId(java.lang.Long value)
        {
            this.deleteCustomerId = value;
        }
        @SuppressWarnings("unused")
        private com.vis.oubl.vo.My010CustomerVO updateCustomerPatient;
        /**
         * Data value for patient updateCustomer on used by DataDrivenTestSuite in suite().
         * updateCustomerpatient must be the column name of the parameter in the spreadsheet
         * @param value My010CustomerVO to be populated manually
         */
        public void setUpdateCustomerPatient(com.vis.oubl.vo.My010CustomerVO value)
        {
            this.updateCustomerPatient = value;
        }
    }
}
